{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/sbb/Desktop/Tinnus/hearing-frontend/src/app/tg/page.tsx"],"sourcesContent":["'use client'\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function Home() {\r\n    useEffect(() => {\r\n        console.log(\"Home page\");\r\n        // функция, которую вызовет Telegram Login Widget\r\n        window.onTelegramAuth = function (user) {\r\n            console.log(\"Данные от Telegram:\", user);\r\n\r\n            const res = fetch(\"http://127.0.0.1:8000/auth/telegram/\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify(user),\r\n            })\r\n                .then((res) => res.json())\r\n                .then((data) => {\r\n                    console.log(\"Ответ бэкенда:\", data);\r\n                    alert(\"Авторизация прошла\");\r\n                })\r\n                .catch(console.error);\r\n\r\n            console.log(res);\r\n        };\r\n\r\n        // динамически создаём тег скрипта Telegram\r\n        const script = document.createElement(\"script\");\r\n        script.src = \"https://telegram.org/js/telegram-widget.js?22\";\r\n        script.async = true;\r\n        script.setAttribute(\"data-telegram-login\", \"neurotinniusbot\"); // без @\r\n        script.setAttribute(\"data-size\", \"large\");\r\n        script.setAttribute(\"data-onauth\", \"onTelegramAuth\");\r\n        script.setAttribute(\"data-request-access\", \"write\");\r\n        document.getElementById(\"telegram-login-btn\").appendChild(script);\r\n    }, []);\r\n\r\n    return (\r\n        <div style={{ padding: 50 }}>\r\n            <h1>Вход через Telegram</h1>\r\n            <div id=\"telegram-login-btn\"></div>\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":";;;;AACA;;;AADA;;AAGe,SAAS;;IACpB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE;YACN,QAAQ,GAAG,CAAC;YACZ,iDAAiD;YACjD,OAAO,cAAc;kCAAG,SAAU,IAAI;oBAClC,QAAQ,GAAG,CAAC,uBAAuB;oBAEnC,MAAM,MAAM,MAAM,wCAAwC;wBACtD,QAAQ;wBACR,SAAS;4BAAE,gBAAgB;wBAAmB;wBAC9C,MAAM,KAAK,SAAS,CAAC;oBACzB,GACK,IAAI;8CAAC,CAAC,MAAQ,IAAI,IAAI;6CACtB,IAAI;8CAAC,CAAC;4BACH,QAAQ,GAAG,CAAC,kBAAkB;4BAC9B,MAAM;wBACV;6CACC,KAAK,CAAC,QAAQ,KAAK;oBAExB,QAAQ,GAAG,CAAC;gBAChB;;YAEA,2CAA2C;YAC3C,MAAM,SAAS,SAAS,aAAa,CAAC;YACtC,OAAO,GAAG,GAAG;YACb,OAAO,KAAK,GAAG;YACf,OAAO,YAAY,CAAC,uBAAuB,oBAAoB,QAAQ;YACvE,OAAO,YAAY,CAAC,aAAa;YACjC,OAAO,YAAY,CAAC,eAAe;YACnC,OAAO,YAAY,CAAC,uBAAuB;YAC3C,SAAS,cAAc,CAAC,sBAAsB,WAAW,CAAC;QAC9D;yBAAG,EAAE;IAEL,qBACI,6LAAC;QAAI,OAAO;YAAE,SAAS;QAAG;;0BACtB,6LAAC;0BAAG;;;;;;0BACJ,6LAAC;gBAAI,IAAG;;;;;;;;;;;;AAGpB;GAvCwB;KAAA","debugId":null}}]
}