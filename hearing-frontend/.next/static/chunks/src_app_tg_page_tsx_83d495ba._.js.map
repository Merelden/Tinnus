{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/sbb/Desktop/Tinnus/hearing-frontend/src/app/tg/page.tsx"],"sourcesContent":["'use client'\nimport { useEffect } from \"react\";\n\nexport default function Home() {\n    useEffect(() => {\n        console.log(\"Home page\");\n        // функция, которую вызовет Telegram Login Widget\n        window.onTelegramAuth = function (user) {\n            console.log(\"Данные от Telegram:\", user);\n\n            const res = fetch(\"http://127.0.0.1:8000/auth/telegram/\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify(user),\n            })\n                .then((res) => res.json())\n                .then((data) => {\n                    console.log(\"Ответ бэкенда:\", data);\n                    alert(\"Авторизация прошла\");\n                })\n                .catch(console.error);\n\n            console.log(res);\n        };\n\n        // динамически создаём тег скрипта Telegram\n        const script = document.createElement(\"script\");\n        script.src = \"https://telegram.org/js/telegram-widget.js?22\";\n        script.async = true;\n        script.setAttribute(\"data-telegram-login\", \"neurotinniusbot\"); // без @\n        script.setAttribute(\"data-size\", \"large\");\n        script.setAttribute(\"data-onauth\", \"onTelegramAuth\");\n        script.setAttribute(\"data-request-access\", \"write\");\n        document.getElementById(\"telegram-login-btn\").appendChild(script);\n    }, []);\n\n    return (\n        <div style={{ padding: 50 }}>\n            <h1>Вход через Telegram</h1>\n            <div id=\"telegram-login-btn\"></div>\n        </div>\n    );\n}"],"names":[],"mappings":";;;;AACA;;;AADA;;AAGe,SAAS;;IACpB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE;YACN,QAAQ,GAAG,CAAC;YACZ,iDAAiD;YACjD,OAAO,cAAc;kCAAG,SAAU,IAAI;oBAClC,QAAQ,GAAG,CAAC,uBAAuB;oBAEnC,MAAM,MAAM,MAAM,wCAAwC;wBACtD,QAAQ;wBACR,SAAS;4BAAE,gBAAgB;wBAAmB;wBAC9C,MAAM,KAAK,SAAS,CAAC;oBACzB,GACK,IAAI;8CAAC,CAAC,MAAQ,IAAI,IAAI;6CACtB,IAAI;8CAAC,CAAC;4BACH,QAAQ,GAAG,CAAC,kBAAkB;4BAC9B,MAAM;wBACV;6CACC,KAAK,CAAC,QAAQ,KAAK;oBAExB,QAAQ,GAAG,CAAC;gBAChB;;YAEA,2CAA2C;YAC3C,MAAM,SAAS,SAAS,aAAa,CAAC;YACtC,OAAO,GAAG,GAAG;YACb,OAAO,KAAK,GAAG;YACf,OAAO,YAAY,CAAC,uBAAuB,oBAAoB,QAAQ;YACvE,OAAO,YAAY,CAAC,aAAa;YACjC,OAAO,YAAY,CAAC,eAAe;YACnC,OAAO,YAAY,CAAC,uBAAuB;YAC3C,SAAS,cAAc,CAAC,sBAAsB,WAAW,CAAC;QAC9D;yBAAG,EAAE;IAEL,qBACI,6LAAC;QAAI,OAAO;YAAE,SAAS;QAAG;;0BACtB,6LAAC;0BAAG;;;;;;0BACJ,6LAAC;gBAAI,IAAG;;;;;;;;;;;;AAGpB;GAvCwB;KAAA","debugId":null}}]
}