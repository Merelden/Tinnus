{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///var/www/Tinnus/hearing-frontend/src/components/UI/WindowBlock.tsx"],"sourcesContent":["import React, {Children} from 'react';\r\nimport styled from \"styled-components\";\r\nimport {primaryColor, textColor, whiteColor} from \"@/styles/colors\";\r\n\r\nconst Wrapper = styled.div`\r\n    background-color: ${whiteColor};\r\n    z-index: 10;\r\n    position: relative;\r\n    border-radius: 25px;\r\n    padding: 44px 36px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    transition: height .4s ease;\r\n    h2{\r\n        font-family: var(--font-montserrat);\r\n        font-weight: 800;\r\n        font-size: 32px;\r\n        line-height: 1;\r\n        text-align: center;\r\n        text-wrap: nowrap;\r\n    }\r\n    p{\r\n        font-family: var(--font-manrope), serif;\r\n        color: ${textColor};\r\n        text-align: center;\r\n        font-size: 18px;\r\n        &.description-start{\r\n            width: 620px;\r\n            font-weight: 400;\r\n        }\r\n        &.description-mini{\r\n            font-size: 16px;\r\n            margin-top: 16px;\r\n        }\r\n        a{\r\n            color: ${primaryColor};\r\n            position: relative;\r\n            &::before{\r\n                content: '';\r\n                background-color: ${primaryColor};\r\n                position: absolute;\r\n                bottom: 1px;\r\n                left: 0;\r\n                width: 100%;\r\n                height: 1px;\r\n            }\r\n        }\r\n    }\r\n    @media (max-width: 700px) {\r\n        p{\r\n            &.description-start{\r\n                width: 100%;\r\n            }\r\n        }\r\n    }\r\n    @media (max-width: 550px) {\r\n        width: 100vw;\r\n        padding: 32px 16px;\r\n        h2{\r\n            font-size: 30px;\r\n        }\r\n        p{\r\n            &.description-mini{\r\n                font-size: 14px;\r\n                width: 110%;\r\n                margin-top: 14px;\r\n            }\r\n            &.description-start{\r\n                font-size: 16px;\r\n            }\r\n        }\r\n    }\r\n    @media (max-width: 400px) {\r\n        h2{\r\n            font-size: 28px;\r\n        }\r\n        p{\r\n            &.description-mini{\r\n                font-size: 12px;\r\n                margin-top: 12px;\r\n                width: 120%;\r\n            }\r\n            &.description-start{\r\n                font-size: 14px;\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nconst WindowBlock = ({children}: Readonly<{ children: React.ReactNode }>) => {\r\n    const isEmpty = Children.count(children) === 0;\r\n\r\n    if(isEmpty){\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <Wrapper className={'content'}>\r\n            {children}\r\n        </Wrapper>\r\n    );\r\n};\r\n\r\nexport default WindowBlock;"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;;;AAEA,MAAM,UAAU,yLAAA,CAAA,UAAM,CAAC,GAAG;;;sBACF,0HAAA,CAAA,aAAU,EAqBjB,0HAAA,CAAA,YAAS,EAYL,0HAAA,CAAA,eAAY,EAIG,0HAAA,CAAA,eAAY;KAtC1C;AAwFN,MAAM,cAAc;QAAC,EAAC,QAAQ,EAA0C;IACpE,MAAM,UAAU,6JAAA,CAAA,WAAQ,CAAC,KAAK,CAAC,cAAc;IAE7C,IAAG,SAAQ;QACP,OAAO;IACX;IAEA,qBACI,6LAAC;QAAQ,WAAW;kBACf;;;;;;AAGb;MAZM;uCAcS","debugId":null}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///var/www/Tinnus/hearing-frontend/src/app/%28auth%29/page.styled.ts"],"sourcesContent":["import styled from \"styled-components\";\r\nimport {primaryColor, redColor, whiteColor} from \"@/styles/colors\";\r\n\r\nexport const BackgroundPage = styled.section`\r\n    min-height: 100vh;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: relative;\r\n    padding: 24px;\r\n    z-index: 10;\r\n    .content {\r\n        animation: fadeInUp 400ms ease-out both;\r\n    }\r\n\r\n    @keyframes fadeInUp {\r\n        from { opacity: 0; transform: translateY(16px) scale(0.9); }\r\n        to { opacity: 1; transform: translateY(0) scale(1); }\r\n    }\r\n    @media (max-width: 500px) {\r\n        padding: 0;\r\n    }}\r\n`\r\n\r\nexport const AuthForm = styled.form`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    gap: 14px;\r\n    margin: 24px 0;\r\n    z-index: 20;\r\n    width: 100%;\r\n    button{\r\n        margin-top: 28px;\r\n        background-color: ${primaryColor};\r\n        font-size: 24px;\r\n        font-family: var(--font-manrope), serif;\r\n        color: ${whiteColor};\r\n        height: 50px;\r\n        border-radius: 6px;\r\n        width: 100%;\r\n    }\r\n    @media (max-width: 500px) {\r\n        margin: 12px 0;\r\n        button{\r\n            height: 45px;\r\n            font-size: 20px;\r\n            margin-top: 14px;\r\n        }\r\n    }\r\n\r\n`\r\nexport const ContentBlock = styled.div`\r\n    position: relative;\r\n`\r\nexport const OtherErrors = styled.div<{$message: string | undefined}>`\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    width: 100%;\r\n    height: ${({$message})=> $message ? \"114%\" : \"100%\"};\r\n    opacity: ${({$message})=> $message ? 1 : 0};\r\n    background-color: ${redColor};\r\n    border-radius: 25px;\r\n    z-index: 1;\r\n    transition: .4s;\r\n    \r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: end;\r\n    padding: 4.5%;\r\n\r\n    font-family: var(--font-manrope), serif;\r\n    font-weight: 500;\r\n    font-size: 24px;\r\n    color: ${whiteColor};\r\n    @media (max-width: 500px) {\r\n        font-size: 20px;\r\n        height: ${({$message})=> $message ? \"112%\" : \"100%\"};\r\n        padding: 3.2%;\r\n    }\r\n    @media (max-width: 400px) {\r\n        padding: 3.2%;\r\n    }\r\n    @media (max-width: 320px) {\r\n        padding: 4%;\r\n    }\r\n`\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEO,MAAM,iBAAiB,yLAAA,CAAA,UAAM,CAAC,OAAO;;;;AAqBrC,MAAM,WAAW,yLAAA,CAAA,UAAM,CAAC,IAAI;;;uBAWP,0HAAA,CAAA,eAAY,EAGvB,0HAAA,CAAA,aAAU;AAepB,MAAM,eAAe,yLAAA,CAAA,UAAM,CAAC,GAAG;;;;AAG/B,MAAM,cAAc,yLAAA,CAAA,UAAM,CAAC,GAAG;;;uBAKvB;QAAC,EAAC,QAAQ,EAAC;WAAI,WAAW,SAAS;GAClC;QAAC,EAAC,QAAQ,EAAC;WAAI,WAAW,IAAI;GACrB,0HAAA,CAAA,WAAQ,EAanB,0HAAA,CAAA,aAAU,EAGL;QAAC,EAAC,QAAQ,EAAC;WAAI,WAAW,SAAS","debugId":null}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///var/www/Tinnus/hearing-frontend/src/app/tests/page.styled.ts"],"sourcesContent":["import styled from \"styled-components\";\r\nimport {blackColor, lightGrayColor, primaryColor, textColor, whiteColor} from \"@/styles/colors\";\r\n\r\nexport const TestSection = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    gap: 32px;\r\n    width: 600px;\r\n    @media (max-width: 700px) {\r\n        max-width: 500px;\r\n        h2{\r\n            font-size: 30px;\r\n        }\r\n    }\r\n    @media (max-width: 550px) {\r\n        max-width: 470px;\r\n        h2{\r\n            font-size: 26px;\r\n        }\r\n    }\r\n    @media (max-width: 500px) {\r\n        max-width: 100%;\r\n        h2{\r\n            font-size: 24px;\r\n        }\r\n    }\r\n`\r\nexport const TitleTest = styled.div`\r\n    display: flex;\r\n    justify-content: start;\r\n    align-items: start;\r\n    flex-direction: column;\r\n    gap: 16px;\r\n    width: 100%;\r\n    h2{\r\n        text-align: start;\r\n        text-wrap: wrap;\r\n    }\r\n`\r\nexport const FormTest = styled.form`\r\n    display: flex;\r\n    justify-content: start;\r\n    align-items: start;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    gap: 16px;\r\n    @media (max-width: 700px) {\r\n        gap: 14px;\r\n    }\r\n`\r\nexport const QuestionBlock = styled.label`\r\n    display: flex;\r\n    justify-content: start;\r\n    align-items: center;\r\n    gap: 12px;\r\n    p{\r\n        text-align: start;\r\n        font-size: 20px;\r\n        font-weight: 400;\r\n        color: ${blackColor};\r\n    }\r\n    @media (max-width: 700px) {\r\n        p{\r\n            font-size: 18px;\r\n        }\r\n    }\r\n    @media (max-width: 500px) {\r\n        p{\r\n            font-size: 16px;\r\n        }\r\n    }\r\n`\r\nexport const ButtonsWrapper = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    width: 100%;\r\n    @media (max-width: 700px) {\r\n        button{\r\n            font-size: 22px;\r\n            height: 47px;\r\n        }\r\n        button:nth-last-child(1){\r\n            width: 170px;\r\n        }\r\n        button:nth-last-child(2){\r\n            width: 150px;\r\n        }\r\n    }\r\n`\r\nexport const ButtonTest = styled.button<{$primary?: boolean}>`\r\n    border-radius: 6px;\r\n    background: ${({$primary}) => $primary ? primaryColor : lightGrayColor};\r\n    font-size: 24px;\r\n    font-weight: 700;\r\n    font-family: var(--font-manrope), serif;\r\n    color: ${({$primary})=> $primary ? whiteColor : blackColor};\r\n    width:  ${({$primary}) => $primary ? '200px' : '150px'};\r\n    height: 56px;\r\n    transition: background .4s ease, color .4s ease;\r\n    \r\n    &:disabled{\r\n        background: ${lightGrayColor};\r\n        color: ${blackColor};\r\n        cursor: auto;\r\n    }\r\n`\r\n\r\nexport const TextAreaStyled = styled.textarea`\r\n    background: ${lightGrayColor};\r\n    padding: 12px 10px;\r\n    border-radius: 10px;\r\n    \r\n    resize: none;\r\n    height: 110px;\r\n    width: 100%;\r\n    margin-top: 8px;\r\n\r\n    font-size: 18px;\r\n    font-family: var(--font-manrope), serif;\r\n    color: ${blackColor};\r\n    @media (max-width: 700px) {\r\n        font-size: 16px;\r\n        padding: 10px 8px;\r\n        height: 90px;\r\n    }\r\n`"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEO,MAAM,cAAc,yLAAA,CAAA,UAAM,CAAC,GAAG;;;;AA0B9B,MAAM,YAAY,yLAAA,CAAA,UAAM,CAAC,GAAG;;;;AAY5B,MAAM,WAAW,yLAAA,CAAA,UAAM,CAAC,IAAI;;;;AAW5B,MAAM,gBAAgB,yLAAA,CAAA,UAAM,CAAC,KAAK;;;uBASxB,0HAAA,CAAA,aAAU;AAapB,MAAM,iBAAiB,yLAAA,CAAA,UAAM,CAAC,GAAG;;;;AAkBjC,MAAM,aAAa,yLAAA,CAAA,UAAM,CAAC,MAAM;;;uBAErB;QAAC,EAAC,QAAQ,EAAC;WAAK,WAAW,0HAAA,CAAA,eAAY,GAAG,0HAAA,CAAA,iBAAc;GAI7D;QAAC,EAAC,QAAQ,EAAC;WAAI,WAAW,0HAAA,CAAA,aAAU,GAAG,0HAAA,CAAA,aAAU;GAChD;QAAC,EAAC,QAAQ,EAAC;WAAK,WAAW,UAAU;GAK7B,0HAAA,CAAA,iBAAc,EACnB,0HAAA,CAAA,aAAU;AAKpB,MAAM,iBAAiB,yLAAA,CAAA,UAAM,CAAC,QAAQ;;;uBAC3B,0HAAA,CAAA,iBAAc,EAWnB,0HAAA,CAAA,aAAU","debugId":null}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///var/www/Tinnus/hearing-frontend/src/components/UI/ProgressBar.tsx"],"sourcesContent":["import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport {GrayColor, primaryColor, textColor} from \"@/styles/colors\";\r\n\r\ninterface IProps {\r\n    totalQuestions: number,\r\n    currentQuestion: number\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    gap: 14px;\r\n    width: 100%;\r\n`\r\nconst ProgressStyled = styled.progress`\r\n    height: 14px;\r\n    width: 100%;\r\n    border-radius: 12px;\r\n    overflow: hidden;\r\n\r\n    &::-webkit-progress-bar {\r\n        background-color: ${GrayColor};\r\n        border-radius: 12px;\r\n    }\r\n\r\n    &::-webkit-progress-value {\r\n        background-color: ${primaryColor};\r\n        border-radius: 12px;\r\n        transition: width 0.3s;\r\n    }\r\n\r\n    &::-moz-progress-bar {\r\n        background-color: ${primaryColor};\r\n        border-radius: 12px;\r\n    }\r\n    @media (max-width: 430px) {\r\n        height: 12px;\r\n    }\r\n`;\r\nconst Percent = styled.p`\r\n    font-size: 20px !important;\r\n    color:${textColor};\r\n    font-weight: 700;\r\n    font-family: var(--font-manrope), serif;\r\n    @media (max-width: 430px) {\r\n        font-size: 18px !important;\r\n    }\r\n`\r\n\r\nconst ProgressBar = ({totalQuestions, currentQuestion}:IProps) => {\r\n\r\n    const percent = Math.round((currentQuestion/totalQuestions) * 100);\r\n\r\n    return (\r\n        <Wrapper>\r\n            <ProgressStyled max={totalQuestions} value={currentQuestion}></ProgressStyled>\r\n            <Percent>{percent}%</Percent>\r\n        </Wrapper>\r\n    );\r\n};\r\n\r\nexport default ProgressBar;"],"names":[],"mappings":";;;;;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA,MAAM,UAAU,yLAAA,CAAA,UAAM,CAAC,GAAG;;;;KAApB;AAON,MAAM,iBAAiB,yLAAA,CAAA,UAAM,CAAC,QAAQ;;;uBAOV,0HAAA,CAAA,YAAS,EAKT,0HAAA,CAAA,eAAY,EAMZ,0HAAA,CAAA,eAAY;MAlBlC;AAyBN,MAAM,UAAU,yLAAA,CAAA,UAAM,CAAC,CAAC;;;uBAEZ,0HAAA,CAAA,YAAS;MAFf;AAUN,MAAM,cAAc;QAAC,EAAC,cAAc,EAAE,eAAe,EAAQ;IAEzD,MAAM,UAAU,KAAK,KAAK,CAAC,AAAC,kBAAgB,iBAAkB;IAE9D,qBACI,6LAAC;;0BACG,6LAAC;gBAAe,KAAK;gBAAgB,OAAO;;;;;;0BAC5C,6LAAC;;oBAAS;oBAAQ;;;;;;;;;;;;;AAG9B;MAVM;uCAYS","debugId":null}},
    {"offset": {"line": 391, "column": 0}, "map": {"version":3,"sources":["file:///var/www/Tinnus/hearing-frontend/src/components/UI/Reception.tsx"],"sourcesContent":["import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport {lightGrayColor, primaryColor} from \"@/styles/colors\";\r\n\r\ninterface IProps {\r\n    isReception: boolean;\r\n    setIsReception: (isReception: boolean) => void;\r\n    type?: string\r\n}\r\nconst CheckBoxLabel = styled.label`\r\n    display: flex;\r\n    align-items: center;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n    font-family: var(--font-manrope);\r\n    color: #333;\r\n`;\r\n\r\nconst StyledCheckbox = styled.input`\r\n    display: none; \r\n\r\n    &:checked + span {\r\n        background-color: ${primaryColor}; \r\n        border-color: ${primaryColor};\r\n    }\r\n\r\n    &:checked + span svg {\r\n        opacity: 1;  \r\n    }\r\n`;\r\n\r\nconst CheckboxWrapper = styled.span`\r\n    width: 28px;\r\n    height: 28px;\r\n    border: 2px solid ${lightGrayColor};\r\n    border-radius: 4px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition: all 0.3s ease;  \r\n\r\n    svg {\r\n        opacity: 0;  \r\n        transition: opacity 0.3s ease; \r\n    }\r\n    @media (max-width: 500px) {\r\n        width: 22px;\r\n        height: 22px;\r\n    }\r\n    @media (max-width: 350px) {\r\n        width: 18px;\r\n        height: 18px;\r\n    }\r\n`;\r\n\r\nconst Reception = ({ isReception, setIsReception, type }: IProps) => {\r\n\r\n    const handleCheckboxChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setIsReception(event.target.checked);\r\n    };\r\n\r\n    return (\r\n        <CheckBoxLabel>\r\n            <StyledCheckbox\r\n                type={type ? type : 'checkbox'}\r\n                checked={isReception}\r\n                onChange={handleCheckboxChange}\r\n            />\r\n            <CheckboxWrapper>\r\n                <svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M5.83325 13.9032L11.3446 19.25L22.1666 8.75\" stroke=\"white\" stroke-width=\"3\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n                </svg>\r\n            </CheckboxWrapper>\r\n        </CheckBoxLabel>\r\n    );\r\n};\r\n\r\nexport default Reception;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOA,MAAM,gBAAgB,yLAAA,CAAA,UAAM,CAAC,KAAK;;;;KAA5B;AASN,MAAM,iBAAiB,yLAAA,CAAA,UAAM,CAAC,KAAK;;;uBAIP,0HAAA,CAAA,eAAY,EAChB,0HAAA,CAAA,eAAY;MAL9B;AAaN,MAAM,kBAAkB,yLAAA,CAAA,UAAM,CAAC,IAAI;;;uBAGX,0HAAA,CAAA,iBAAc;MAHhC;AAwBN,MAAM,YAAY;QAAC,EAAE,WAAW,EAAE,cAAc,EAAE,IAAI,EAAU;IAE5D,MAAM,uBAAuB,CAAC;QAC1B,eAAe,MAAM,MAAM,CAAC,OAAO;IACvC;IAEA,qBACI,6LAAC;;0BACG,6LAAC;gBACG,MAAM,OAAO,OAAO;gBACpB,SAAS;gBACT,UAAU;;;;;;0BAEd,6LAAC;0BACG,cAAA,6LAAC;oBAAI,OAAM;oBAAK,QAAO;oBAAK,SAAQ;oBAAY,MAAK;oBAAO,OAAM;8BAC9D,cAAA,6LAAC;wBAAK,GAAE;wBAA8C,QAAO;wBAAQ,gBAAa;wBAAI,kBAAe;wBAAQ,mBAAgB;;;;;;;;;;;;;;;;;;;;;;AAKjJ;MApBM;uCAsBS","debugId":null}},
    {"offset": {"line": 514, "column": 0}, "map": {"version":3,"sources":["file:///var/www/Tinnus/hearing-frontend/src/app/tests/page.tsx"],"sourcesContent":["'use client'\nimport React, {useState, useEffect, FormEvent} from 'react';\nimport WindowBlock from \"@/components/UI/WindowBlock\";\nimport {BackgroundPage} from \"@/app/(auth)/page.styled\";\nimport {\n    ButtonsWrapper,\n    ButtonTest,\n    FormTest,\n    QuestionBlock,\n    TestSection,\n    TextAreaStyled,\n    TitleTest\n} from \"@/app/tests/page.styled\";\nimport ProgressBar from \"@/components/UI/ProgressBar\";\nimport Reception from \"@/components/UI/Reception\";\nimport {NetworkService} from \"@/api/request\";\nimport {isTestDay, loadStreak, streak} from \"@/store/streakStore\";\nimport {useRouter} from \"next/navigation\";\n\ntype Option = {\n    id: number,\n    label: string\n}\ntype Question = {\n    id: number;\n    question: string;\n    type: 'single' | 'multiple' | 'input';\n    options?: Option[],\n    input?: string\n}\ntype AnswerValue = {\n    selected?: number[];\n    input?: string;\n};\ntype InterstitialText ={\n    title: string;\n    text: string;\n};\n\ntype AnswersState = Record<number, AnswerValue>;\n\ntype OutAnswer = {\n    question: number;\n    selected?: number | number[];\n    input?: string;\n};\n\n\nconst QuestionsForm = () => {\n    const [questions, setQuestions] = useState<Question[]>([]);\n    const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n    const [answers, setAnswers] = useState<AnswersState>({});\n    const [interstitialTexts, setInterstitialTexts] = useState<InterstitialText | null>(null);\n    const [isStreakLoaded, setIsStreakLoaded] = useState(false);\n    const router = useRouter();\n    const streakDay = streak();\n    const testDay = isTestDay();\n\n    // Текстовые вставки\n    const interstitials: Record<number, InterstitialText> = {\n        12: {title: \"Госпитальная шкала тревоги и депрессии (HADS). Ответьте, пожалуйста, на следующие вопросы:\", text: \"Часть 1. Тревога. Каждому утверждению соответствуют 4 варианта ответа. Выберите тот из ответов, который соответствует Вашему состоянию:\"},\n        19: {title: \"Госпитальная шкала тревоги и депрессии (HADS). Ответьте, пожалуйста, на следующие вопросы:\", text: \"Часть 2. Депрессия. Каждому утверждению соответствуют 4 варианта ответа. Выберите тот из ответов, который соответствует Вашему состоянию:\"},\n        26: {title: \"Ниже вы найдете 13 утверждений, описывающих различные мысли и чувства, которые могут быть связаны с шумом в ушах у вас.\", text: \"Шкала катастрофизации тиннитуса (TCS). Шкала катастрофизации тиннитуса направлена на определение мыслей и чувств, которые вы испытываете при ощущении шума в ушах. С помощью данного опросника мы хотим выяснить, какое влияние оказывает шум в ушах на ваше состояние: на настроение, поведение, отношение.\"},\n    }\n\n    // 1) Загружаем streak в стор и отмечаем готовность\n    useEffect(() => {\n        let mounted = true;\n        (async () => {\n            try {\n                await loadStreak();\n                if (mounted) setIsStreakLoaded(true);\n            } catch (err) {\n                console.log(err);\n                if (mounted) setIsStreakLoaded(true);\n            }\n        })();\n        return () => { mounted = false };\n    }, []);\n\n    // 2) После загрузки streak реагируем на актуальное значение testDay\n    useEffect(() => {\n        if (!isStreakLoaded) return;\n        if (!testDay) {\n            router.push(\"/instruction\");\n            return;\n        }\n        (async () => {\n            try {\n                const res = await NetworkService.questions();\n                setQuestions(res.data.questions);\n            } catch (err) {\n                console.log(err);\n                setQuestions([]);\n            }\n        })();\n    }, [isStreakLoaded, testDay, router]);\n    const handleSubmit = async () => {\n        const outAnswers: OutAnswer[] = Object.entries(answers)\n            .map(([key, value]) => {\n                const questionId = Number(key);\n                const questionMeta = questions.find(q => q.id === questionId);\n\n                const out: OutAnswer = { question: questionId };\n\n                if (value.selected && value.selected.length > 0) {\n                    if (questionMeta?.type === 'single') {\n                        out.selected = value.selected[0];\n                    } else if (questionMeta?.type === 'multiple') {\n                        out.selected = value.selected;\n                    }\n                }\n\n                if (value.input && value.input.trim() !== '') {\n                    out.input = value.input.trim();\n                }\n\n                if (out.selected === undefined && !out.input) return null;\n                return out;\n            })\n            .filter((v): v is OutAnswer => v !== null);\n\n        const payload = { day: streakDay, answers: outAnswers };\n        await NetworkService.answers(payload);\n        router.push(\"/instruction\");\n    };\n\n    // Изменение состояния ответов\n    const handleMultipleChange = (qId: number, optionId: number, checked: boolean) => {\n        setAnswers((prev) => {\n            const prevAns = prev[qId]?.selected || [];\n            const newAns = checked\n                ? [...prevAns, optionId]\n                : prevAns.filter((id) => id !== optionId);\n\n            return { ...prev, [qId]: { ...prev[qId], selected: newAns } };\n        });\n    };\n    const handleSingleChange = (questionId: number, optionId: number) => {\n        setAnswers((prev) => ({\n            ...prev,\n            [questionId]: { selected: [optionId] },\n        }));\n    };\n    const handleInputChange = (qId: number, value: string) => {\n        setAnswers((prev) => ({\n            ...prev,\n            [qId]: { ...prev[qId], input: value },\n        }));\n    };\n\n    //Переключение вопросов\n    const handlePrevQuestion = () => {\n        if (interstitialTexts){\n            setInterstitialTexts(null);\n            return;\n        }\n        if (currentQuestionIndex > 0) {\n            setCurrentQuestionIndex(currentQuestionIndex - 1);\n        }\n    };\n    const handleNextQuestion = (e: FormEvent<HTMLFormElement>) => {\n        e.preventDefault()\n        const currentQ = questions[currentQuestionIndex];\n        if(currentQ && interstitials[currentQ.id]) {\n            setInterstitialTexts(interstitials[currentQ.id])\n            return;\n        }\n        if (currentQuestionIndex < questions.length - 1) {\n            setCurrentQuestionIndex((prev)=> prev + 1);\n        } else {\n            handleSubmit();\n        }\n    };\n\n    const handleNextFromInterstitial = () => {\n        setInterstitialTexts(null);\n        setCurrentQuestionIndex((prev) => prev + 1);\n    };\n\n    // Проверка ответа на вопрос\n    const isAnswered = (question: Question): boolean=>{\n        const ans = answers[question.id];\n        if(question.type === 'multiple' || question.type === 'single'){\n            return !!ans?.selected && ans.selected.length > 0\n        }\n        if (question.type === 'input') {\n            return !!ans?.input && ans.input.trim() !== '';\n        }\n        return false\n    }\n\n\n    const currentQuestion: Question = questions[currentQuestionIndex];\n\n    return (\n        <BackgroundPage>\n            <WindowBlock>\n                {currentQuestion && (\n                    <TestSection>\n                        <TitleTest>\n                            <ProgressBar\n                                totalQuestions={questions.length}\n                                currentQuestion={currentQuestionIndex + 1}\n                            />\n                            {!interstitialTexts && <h2>{currentQuestion.question}</h2>}\n                            {interstitialTexts && <h2>{interstitialTexts.title}</h2>}\n                        </TitleTest>\n                        <FormTest id='questionForm' onSubmit={handleNextQuestion}>\n                            {interstitialTexts ? (\n                                <QuestionBlock>\n                                    <p style={{cursor: \"auto\"}}>{interstitialTexts.text}</p>\n                                </QuestionBlock>\n                            ) : (\n                                <>\n                                    {currentQuestion.type === 'multiple' &&\n                                        currentQuestion.options?.map((opt) => {\n                                            const selected = answers[currentQuestion.id]?.selected || [];\n                                            return (\n                                                <QuestionBlock key={opt.id}>\n                                                    <Reception\n                                                        isReception={selected.includes(opt.id)}\n                                                        setIsReception={(checked) =>\n                                                            handleMultipleChange(currentQuestion.id, opt.id, checked)\n                                                        }\n                                                    />\n                                                    <p>{opt.label}</p>\n                                                </QuestionBlock>\n                                            );\n                                        })}\n                                    {currentQuestion.type === 'single' &&\n                                        currentQuestion.options?.map((opt) => (\n                                            <QuestionBlock key={opt.id}>\n                                                <Reception\n                                                    type=\"radio\"\n                                                    isReception={answers[currentQuestion.id]?.selected?.[0] === opt.id}\n                                                    setIsReception={(checked) =>\n                                                        checked && handleSingleChange(currentQuestion.id, opt.id)\n                                                    }\n                                                />\n                                                <p>{opt.label}</p>\n                                            </QuestionBlock>\n                                        ))}\n                                    {currentQuestion.input && (\n                                        <TextAreaStyled\n                                            placeholder={currentQuestion.input}\n                                            value={(answers[currentQuestion.id] as { input: string } | undefined)?.input || ''}\n                                            onChange={(e) => handleInputChange(currentQuestion.id, e.target.value)}\n                                        >\n                                        </TextAreaStyled>\n                                    )}\n                                </>\n                            )}\n                        </FormTest>\n                        <ButtonsWrapper>\n                            <ButtonTest onClick={handlePrevQuestion} disabled={currentQuestionIndex===0 && !interstitialTexts}>Назад</ButtonTest>\n                            <ButtonTest\n                                $primary\n                                disabled={!interstitialTexts && !isAnswered(currentQuestion)}\n                                type={interstitialTexts ? 'button' : 'submit'}\n                                onClick={interstitialTexts ? handleNextFromInterstitial : undefined}\n                                form='questionForm'\n                            >\n                                {currentQuestionIndex === questions.length - 1 && !interstitialTexts ? 'Отправить' : 'Далее'}\n                            </ButtonTest>\n                        </ButtonsWrapper>\n                    </TestSection>\n                )}\n            </WindowBlock>\n        </BackgroundPage>\n    );\n};\n\nexport default QuestionsForm;"],"names":[],"mappings":"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","debugId":null}}]
}