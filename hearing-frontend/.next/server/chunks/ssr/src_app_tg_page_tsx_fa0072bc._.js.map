{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/sbb/Desktop/Tinnus/hearing-frontend/src/app/tg/page.tsx"],"sourcesContent":["'use client'\nimport { useEffect } from \"react\";\n\nexport default function Home() {\n    useEffect(() => {\n        console.log(\"Home page\");\n        // функция, которую вызовет Telegram Login Widget\n        window.onTelegramAuth = function (user) {\n            console.log(\"Данные от Telegram:\", user);\n\n            const res = fetch(\"http://127.0.0.1:8000/auth/telegram/\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify(user),\n            })\n                .then((res) => res.json())\n                .then((data) => {\n                    console.log(\"Ответ бэкенда:\", data);\n                    alert(\"Авторизация прошла\");\n                })\n                .catch(console.error);\n\n            console.log(res);\n        };\n\n        // динамически создаём тег скрипта Telegram\n        const script = document.createElement(\"script\");\n        script.src = \"https://telegram.org/js/telegram-widget.js?22\";\n        script.async = true;\n        script.setAttribute(\"data-telegram-login\", \"neurotinniusbot\"); // без @\n        script.setAttribute(\"data-size\", \"large\");\n        script.setAttribute(\"data-onauth\", \"onTelegramAuth\");\n        script.setAttribute(\"data-request-access\", \"write\");\n        document.getElementById(\"telegram-login-btn\").appendChild(script);\n    }, []);\n\n    return (\n        <div style={{ padding: 50 }}>\n            <h1>Вход через Telegram</h1>\n            <div id=\"telegram-login-btn\"></div>\n        </div>\n    );\n}"],"names":[],"mappings":";;;;AACA;AADA;;;AAGe,SAAS;IACpB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,QAAQ,GAAG,CAAC;QACZ,iDAAiD;QACjD,OAAO,cAAc,GAAG,SAAU,IAAI;YAClC,QAAQ,GAAG,CAAC,uBAAuB;YAEnC,MAAM,MAAM,MAAM,wCAAwC;gBACtD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACzB,GACK,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,IACtB,IAAI,CAAC,CAAC;gBACH,QAAQ,GAAG,CAAC,kBAAkB;gBAC9B,MAAM;YACV,GACC,KAAK,CAAC,QAAQ,KAAK;YAExB,QAAQ,GAAG,CAAC;QAChB;QAEA,2CAA2C;QAC3C,MAAM,SAAS,SAAS,aAAa,CAAC;QACtC,OAAO,GAAG,GAAG;QACb,OAAO,KAAK,GAAG;QACf,OAAO,YAAY,CAAC,uBAAuB,oBAAoB,QAAQ;QACvE,OAAO,YAAY,CAAC,aAAa;QACjC,OAAO,YAAY,CAAC,eAAe;QACnC,OAAO,YAAY,CAAC,uBAAuB;QAC3C,SAAS,cAAc,CAAC,sBAAsB,WAAW,CAAC;IAC9D,GAAG,EAAE;IAEL,qBACI,8OAAC;QAAI,OAAO;YAAE,SAAS;QAAG;;0BACtB,8OAAC;0BAAG;;;;;;0BACJ,8OAAC;gBAAI,IAAG;;;;;;;;;;;;AAGpB","debugId":null}}]
}