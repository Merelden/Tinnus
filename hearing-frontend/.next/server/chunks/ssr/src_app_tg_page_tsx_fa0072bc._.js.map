{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/sbb/Desktop/Tinnus/hearing-frontend/src/app/tg/page.tsx"],"sourcesContent":["'use client'\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function Home() {\r\n    useEffect(() => {\r\n        console.log(\"Home page\");\r\n        // функция, которую вызовет Telegram Login Widget\r\n        window.onTelegramAuth = function (user) {\r\n            console.log(\"Данные от Telegram:\", user);\r\n\r\n            const res = fetch(\"http://127.0.0.1:8000/auth/telegram/\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify(user),\r\n            })\r\n                .then((res) => res.json())\r\n                .then((data) => {\r\n                    console.log(\"Ответ бэкенда:\", data);\r\n                    alert(\"Авторизация прошла\");\r\n                })\r\n                .catch(console.error);\r\n\r\n            console.log(res);\r\n        };\r\n\r\n        // динамически создаём тег скрипта Telegram\r\n        const script = document.createElement(\"script\");\r\n        script.src = \"https://telegram.org/js/telegram-widget.js?22\";\r\n        script.async = true;\r\n        script.setAttribute(\"data-telegram-login\", \"neurotinniusbot\"); // без @\r\n        script.setAttribute(\"data-size\", \"large\");\r\n        script.setAttribute(\"data-onauth\", \"onTelegramAuth\");\r\n        script.setAttribute(\"data-request-access\", \"write\");\r\n        document.getElementById(\"telegram-login-btn\").appendChild(script);\r\n    }, []);\r\n\r\n    return (\r\n        <div style={{ padding: 50 }}>\r\n            <h1>Вход через Telegram</h1>\r\n            <div id=\"telegram-login-btn\"></div>\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":";;;;AACA;AADA;;;AAGe,SAAS;IACpB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,QAAQ,GAAG,CAAC;QACZ,iDAAiD;QACjD,OAAO,cAAc,GAAG,SAAU,IAAI;YAClC,QAAQ,GAAG,CAAC,uBAAuB;YAEnC,MAAM,MAAM,MAAM,wCAAwC;gBACtD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACzB,GACK,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI,IACtB,IAAI,CAAC,CAAC;gBACH,QAAQ,GAAG,CAAC,kBAAkB;gBAC9B,MAAM;YACV,GACC,KAAK,CAAC,QAAQ,KAAK;YAExB,QAAQ,GAAG,CAAC;QAChB;QAEA,2CAA2C;QAC3C,MAAM,SAAS,SAAS,aAAa,CAAC;QACtC,OAAO,GAAG,GAAG;QACb,OAAO,KAAK,GAAG;QACf,OAAO,YAAY,CAAC,uBAAuB,oBAAoB,QAAQ;QACvE,OAAO,YAAY,CAAC,aAAa;QACjC,OAAO,YAAY,CAAC,eAAe;QACnC,OAAO,YAAY,CAAC,uBAAuB;QAC3C,SAAS,cAAc,CAAC,sBAAsB,WAAW,CAAC;IAC9D,GAAG,EAAE;IAEL,qBACI,8OAAC;QAAI,OAAO;YAAE,SAAS;QAAG;;0BACtB,8OAAC;0BAAG;;;;;;0BACJ,8OAAC;gBAAI,IAAG;;;;;;;;;;;;AAGpB","debugId":null}}]
}